<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<IP xmlns="http://mcd.rou.st.com/modules.php?name=mcu" DBVersion="V4.0" IPType="Thirdparty" IpGroup="Additional Software" Name="STMicroelectronics.X-CUBE-TOUCHGFX" Version="4.15.0" xmlns:ns0="http://www.w3.org/2001/XMLSchema-instance" ns0:schemaLocation="http://mcd.rou.st.com/modules.php?name=mcu ../../../../../../../doc/V4/Development/Specifications/db/IP_Modes.xsd">
    <!--Generated by CubeMX-->
    <RefMode Abstract="true" Name="GraphicsJjApplication">
        <ConfigForMode>GraphicsJjApplication</ConfigForMode>
        <Parameter Name="ApplicationCcGraphicsJjApplication"/>
        <Parameter Name="tgfx_crc"/>
        <Parameter Name="tgfx_ltdc_unsup_px_format"/>
        <Parameter Name="tgfx_ltdc_layers"/>
        <Parameter Name="tgfx_ltdc_window"/>
        <Parameter Name="tgfx_ltdc_image"/>
        <Parameter Name="tgfx_ltdc_alpha_constant"/>
        <Parameter Name="tgfx_display_interface"/>
        <Parameter Name="tgfx_vsync" />
        <Parameter Name="tgfx_hardware_accelerator" />
        <Parameter Name="tgfx_pixel_format" />
        <Parameter Name="tgfx_custom_width" />
        <Parameter Name="tgfx_ltdc_width"/>
        <Parameter Name="tgfx_custom_height" />
        <Parameter Name="tgfx_ltdc_height"/>
        <Parameter Name="tgfx_buffering_strategy" />
        <Parameter Name="tgfx_location" />
        <Parameter Name="tgfx_address1" />
        <Parameter Name="tgfx_address2" />
        <Parameter Name="tgfx_number_of_blocks" />
        <Parameter Name="tgfx_block_size" />
        <Parameter Name="tgfx_partialfb_transmit_strategy" />
        <Parameter Name="tgfx_datareader" />
        <Parameter Name="tgfx_datareader_block_size" />
        <Parameter Name="tgfx_datareader_dma_transfersize" />
        <Parameter Name="tgfx_oswrapper"/>
        <Parameter Name="tgfx_mcu_family"/>
    </RefMode>

    <RefParameter Comment="Graphics Application" DefaultValue="disable" Group="Software component selection" Name="ApplicationCcGraphicsJjApplication" TabName="GraphicsJjApplication" Type="list" Visible="false">
        <PossibleValue Comment="DISABLE" Value="DISABLE"/>
        <PossibleValue Comment="TouchGFX Generator" Semaphore="SEMApplicationCcGraphicsJjApplicationJjTouchGFX" Value="TouchGFX Generator"/>
    </RefParameter>

    <!--
        Tab Start: TouchGFX
     -->

    <!-- BEGIN Group: Missing dependencies. Information to developer about mismatch in plugin settings vs CubeMX IP settings-->
    <RefParameter Comment="CRC" Name="tgfx_crc" DefaultValue="Please Enable IP" TabName="TouchGFX Generator" Group="Dependencies" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="CRC"/>
    </RefParameter>
    <RefParameter Comment="CRC" Name="tgfx_crc" DefaultValue="Please Enable IP" TabName="TouchGFX Generator" Group="Dependencies" Type="list">
        <Condition Diagnostic="" Expression="!CRC"/>
        <PossibleValue Comment="Please Enable CRC IP" Value="none" Action="Error" Condition="!CRC" Diagnostic="CRC must be enabled for TouchGFX to run on STM32 microcontrollers."/>
        <Description>You must enable the CRC in order to run TouchGFX on STM32 microcontrollers.</Description>
    </RefParameter>

    <!-- If sem_ltdc_selected is signaled it implies that LTDC ip is enabled -->
    <RefParameter Comment="LTDC Pixel Format" Name="tgfx_ltdc_unsup_px_format" TabName="TouchGFX Generator" Group="Dependencies" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="(sem_ltdc_enabled &amp; (sem_ltdc_format_ok))|!sem_ltdc_enabled"/>
    </RefParameter>
    <RefParameter Comment="LTDC Pixel Format" Name="tgfx_ltdc_unsup_px_format" TabName="TouchGFX Generator" Group="Dependencies" Type="list">
        <Condition Diagnostic="" Expression="sem_ltdc_enabled &amp; (!sem_ltdc_format_ok)"/>
        <PossibleValue Comment="Unsupported LTDC pixel format. RGB565 and RGB888 are supported." Value="none" Action="Error" Condition="(!sem_ltdc_format_ok)" Diagnostic="Unsupported pixel format. Must be RGB565, RGB888, or L8"/>
        <Description>Unsupported pixel format</Description>
    </RefParameter>

    <RefParameter Comment="LTDC Nr. of Layers" Name="tgfx_ltdc_layers" TabName="TouchGFX Generator" Group="Dependencies" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="(sem_ltdc_enabled &amp; !sem_ltdc_layers_ok)|!sem_ltdc_enabled"/>
    </RefParameter>
    <RefParameter Comment="LTDC Nr. of Layers" Name="tgfx_ltdc_layers" TabName="TouchGFX Generator" Group="Dependencies" Type="list">
        <Condition Diagnostic="" Expression="sem_ltdc_enabled &amp; sem_ltdc_layers_ok"/>
        <PossibleValue Comment="TouchGFX only uses Layer 0 (2 Layers enabled)." Value="none" Action="Error" Condition="sem_ltdc_layers_ok" Diagnostic="TouchGFX applications only utilize a single layer.&lt;br&gt;An additional layer can be used with TouchGFX if managed manually."/>
        <Description>TouchGFX applications only utilize a single layer.&lt;br&gt;An additional layer can be used with TouchGFX if managed manually.</Description>
    </RefParameter>

    <RefParameter Comment="LTDC Window" Name="tgfx_ltdc_window" TabName="TouchGFX Generator" Group="Dependencies" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="(sem_ltdc_enabled &amp; sem_ltdc_window_ok)|!sem_ltdc_enabled"/>
    </RefParameter>
    <RefParameter Comment="LTDC Window Position" Name="tgfx_ltdc_window" TabName="TouchGFX Generator" Group="Dependencies" Type="list">
        <Condition Diagnostic="" Expression="(sem_ltdc_enabled &amp; !sem_ltdc_window_ok)"/>
        <PossibleValue Comment="Layer 0 Start/Stop values must be greater than 0" Value="none" Action="Error" Condition="!sem_ltdc_window_ok" Diagnostic="Check Layer 0 Window settings"/>
        <Description>The LTDC window size is 0 because width and/or height is 0:&lt;br&gt; Layer 0 Window Horizontal Stop - Layer 0 Window Horizontal Start = Width&lt;br&gt;Layer 0 Window Vertical Stop - Layer 0 Window Vertical Start = Height</Description>
    </RefParameter>

    <RefParameter Comment="LTDC Image" Name="tgfx_ltdc_image" TabName="TouchGFX Generator" Group="Dependencies" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="(sem_ltdc_enabled &amp; sem_ltdc_image_ok) | !sem_ltdc_enabled"/>
    </RefParameter>
    <RefParameter Comment="LTDC Image" Name="tgfx_ltdc_image" TabName="TouchGFX Generator" Group="Dependencies" Type="list">
        <Condition Diagnostic="" Expression="sem_ltdc_enabled &amp; !sem_ltdc_image_ok"/>
        <PossibleValue Comment="Width/height values must equal LTDC Window width/height" Value="none" Action="Error" Condition="!sem_ltdc_image_ok" Diagnostic="Image width and height should match window settings."/>
        <Description>Image width and height should match the Width and Height&lt;br&gt; calculated from window settings.</Description>
    </RefParameter>

    <RefParameter Comment="LTDC Alpha Constant" Name="tgfx_ltdc_alpha_constant" TabName="TouchGFX Generator" Group="Dependencies" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="(sem_ltdc_enabled &amp; sem_ltdc_alpha_constant_ok) | !sem_ltdc_enabled"/>
    </RefParameter>
  <RefParameter Comment="LTDC Alpha Constant" Name="tgfx_ltdc_alpha_constant" TabName="TouchGFX Generator" Group="Dependencies" Type="list">
        <Condition Diagnostic="" Expression="sem_ltdc_enabled &amp; !sem_ltdc_alpha_constant_ok"/>
        <PossibleValue Comment="Value should be > 0. 255 = Opaque." Value="none" Action="Error" Condition="!sem_ltdc_alpha_constant_ok" Diagnostic="Alpha Constant should be > 0 (255 usually)."/>
        <Description>Alpha Constant should be > 0 (255 usually).</Description>
   </RefParameter>
    <!-- Check here if pixel formats are even a match ? -->
    <!-- END Group: Missing dependencies. -->

    <RefParameter Comment="Interface" Name="tgfx_display_interface" DefaultValue="disp_custom" TabName="TouchGFX Generator" Group="Display" Type="list">
        <Description>The display interface specifies the communication between the frame buffer in TouchGFX and the display.&lt;br&gt;
                     Choosing Custom Display Interface gives the ability to supply your own implementation of display interface.
        </Description>
        <!-- Allow user to select Parallel RGB if LTDC IP enabled regardless of whether or not format is OK - Will be handled as a warning -->
        <PossibleValue Comment="Parallel RGB (LTDC)" Value="disp_ltdc" Semaphore="sem_ltdc_selected" Condition="!sem_ltdc_enabled" Action="Disable" Diagnostic="Only available if Parallel RGB (LTDC) is enabled."/>
        <PossibleValue Comment="Custom" Value="disp_custom" Semaphore="sem_custom_display_selected"/>
    </RefParameter>

    <RefParameter Comment="Application Tick Source" Name="tgfx_vsync" DefaultValue="vsync_custom" TabName="TouchGFX Generator" Group="Driver" Type="list">
        <Description>TouchGFX applications are driven, or ticked, by internal or external events like interrupts from an LTDC,&lt;br&gt;
                     external peripheral or hardware timer.&lt;br&gt;
                     &lt;br&gt;
                     LTDC is only available if enabled.
        </Description>
        <PossibleValue Comment="LTDC" Value="vsync_ltdc" Condition="!sem_ltdc_selected" Action="Disable" Diagnostic="Only available if LTDC is enabled."/>
        <PossibleValue Comment="Custom" Value="vsync_custom" Semaphore="sem_custom_vsync_selected"/>
    </RefParameter>

    <RefParameter Comment="Graphics Accelerator" Name="tgfx_hardware_accelerator" DefaultValue="dma_none" TabName="TouchGFX Generator" Group="Driver" Type="list">
        <Description>Specifies which Graphics Accelerator to use.&lt;br&gt;
                     &lt;br&gt;
                     ChromART (DMA2D) is only available if enabled.
        </Description>
        <PossibleValue Comment="None" Value="dma_none"/>
        <PossibleValue Comment="ChromART (DMA2D)" Value="dma_2d" Condition="!MW_DMA2D_MW | (sem_bw_selected|sem_grey2_selected|sem_grey4_selected|sem_agrb2222_selected|sem_argb2222_selected|sem_bgra2222_selected|sem_rgba2222_selected)" Semaphore="sem_dma2d_selected" Action="Disable" Diagnostic="Only available if ChromART (DMA2D) is enabled."/>
        <PossibleValue Comment="Custom" Value="dma_custom" Semaphore="sem_custom_dma_selected"/>
    </RefParameter>

    <RefParameter Comment="Width" Name="tgfx_custom_width" DefaultValue="32" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="pixels">
        <Description>Specifies the width of the frame buffer.</Description>
        <Condition Diagnostic="" Expression="!sem_ltdc_selected" />
    </RefParameter>
    <RefParameter Comment="Width" Name="tgfx_custom_width" DefaultValue="32" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="pixels" Visible="false">
        <Condition Diagnostic="" Expression="sem_ltdc_selected" />
        <PossibleValue Comment="" Value="" Semaphore="sem_custom_width" />
    </RefParameter>

    <RefParameter Comment="Height" Name="tgfx_custom_height" DefaultValue="32" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="pixels">
        <Description>Specifies the height of the frame buffer.</Description>
        <Condition Diagnostic="" Expression="!sem_ltdc_selected" />
    </RefParameter>
    <RefParameter Comment="Height" Name="tgfx_custom_height" DefaultValue="32" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="pixels" Visible="false">
        <Condition Diagnostic="" Expression="sem_ltdc_selected" />
    </RefParameter>

    <RefParameter Comment="Width (LTDC)" Name="tgfx_ltdc_width" DefaultValue="=(LTDC:WindowX1_L0-LTDC:WindowX0_L0)" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integerreadonly" Unit="pixels">
        <Description>Specifies the height of the frame buffer.</Description>
        <Condition Diagnostic="" Expression="sem_ltdc_selected" />
    </RefParameter>
    <RefParameter Comment="Width" Name="tgfx_ltdc_width" DefaultValue="32" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="pixels" Visible="false">
        <Condition Diagnostic="" Expression="!sem_ltdc_selected" />
    </RefParameter>

    <RefParameter Comment="Height (LTDC)" Name="tgfx_ltdc_height" DefaultValue="=(LTDC:WindowY1_L0-LTDC:WindowY0_L0)" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integerreadonly" Unit="pixels">
        <Description>Specifies the height of the frame buffer.</Description>
        <Condition Diagnostic="" Expression="sem_ltdc_selected" />
    </RefParameter>
    <RefParameter Comment="Height" Name="tgfx_ltdc_height" DefaultValue="32" Min="0" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="pixels" Visible="false">
        <Condition Diagnostic="" Expression="!sem_ltdc_selected" />
    </RefParameter>

    <RefParameter Comment="Framebuffer Pixel Format" Name="tgfx_pixel_format" DefaultValue="RGB565:16" TabName="TouchGFX Generator" Group="Display" Type="list">
        <Description>The Pixel Format of the application framebuffer(s).</Description>
        <PossibleValue Comment="Black White" Value="BW:1" Semaphore="sem_bw_selected" />
        <PossibleValue Comment="Grey2" Value="Grey2:2" Semaphore="sem_grey2_selected" />
        <PossibleValue Comment="Grey4" Value="Grey4:4" Semaphore="sem_grey4_selected" />
        <PossibleValue Comment="ABGR2222" Value="ABGR2222:8" Semaphore="sem_agrb2222_selected" />
        <PossibleValue Comment="ARGB2222" Value="ARGB2222:8" Semaphore="sem_argb2222_selected" />
        <PossibleValue Comment="BGRA2222" Value="BGRA2222:8" Semaphore="sem_bgra2222_selected" />
        <PossibleValue Comment="RGBA2222" Value="RGBA2222:8" Semaphore="sem_rgba2222_selected" />
        <PossibleValue Comment="RGB565" Value="RGB565:16" Semaphore="sem_rgb565_selected" />
        <PossibleValue Comment="RGB888" Value="RGB888:24" Semaphore="sem_rgb888_selected" />
        <Condition Diagnostic="" Expression="!sem_ltdc_selected" />
    </RefParameter>
    <RefParameter Comment="Framebuffer Pixel Format (LTDC)" Name="tgfx_pixel_format" DefaultValue="RGB565:16" TabName="TouchGFX Generator" Group="Display" Type="list">
        <Description>The Pixel Format of the application framebuffer(s).</Description>
        <PossibleValue Comment="Black White" Value="BW:1" Semaphore="sem_bw_selected" Condition="false" Action="Disable" Diagnostic="Not available when using LTDC."/>
        <PossibleValue Comment="Grey2" Value="Grey2:2" Semaphore="sem_grey2_selected" Condition="false" Action="Disable" Diagnostic="Not available when using LTDC."/>
        <PossibleValue Comment="Grey4" Value="Grey4:4" Semaphore="sem_grey4_selected" Condition="false" Action="Disable" Diagnostic="Not available when using LTDC."/>
        <PossibleValue Comment="ABGR2222" Value="ABGR2222:8" Semaphore="sem_agrb2222_selected" Condition="!LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_L8" Action="Disable" Diagnostic="Enable by setting LTDC Layer 0 to L8."/>
        <PossibleValue Comment="ARGB2222" Value="ARGB2222:8" Semaphore="sem_argb2222_selected" Condition="!LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_L8" Action="Disable" Diagnostic="Enable by setting LTDC Layer 0 to L8."/>
        <PossibleValue Comment="BGRA2222" Value="BGRA2222:8" Semaphore="sem_bgra2222_selected" Condition="!LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_L8" Action="Disable" Diagnostic="Enable by setting LTDC Layer 0 to L8."/>
        <PossibleValue Comment="RGBA2222" Value="RGBA2222:8" Semaphore="sem_rgba2222_selected" Condition="!LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_L8" Action="Disable" Diagnostic="Enable by setting LTDC Layer 0 to L8."/>
        <PossibleValue Comment="RGB565" Value="RGB565:16" Semaphore="sem_rgb565_selected" Condition="!LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_RGB565" Action="Disable" Diagnostic="Enable by setting LTDC Layer 0 to RGB565."/>
        <PossibleValue Comment="RGB888" Value="RGB888:24" Semaphore="sem_rgb888_selected" Condition="!LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_RGB888" Action="Disable" Diagnostic="Enable by setting LTDC Layer 0 to RGB888."/>
        <Condition Diagnostic="" Expression="sem_ltdc_selected" />
    </RefParameter>
    <!-- PixelFormat_L0 -->

    <RefParameter Comment="Framebuffer Strategy" Name="tgfx_buffering_strategy" DefaultValue="Single" TabName="TouchGFX Generator" Group="Display" Type="list">
        <Description>Specifies the strategy TouchGFX should use to render frames.&lt;br&gt;&lt;br&gt;
                     Double Buffering eliminates any risk of tearing regardless of how long it takes to render the next frame since a TFT controller, for example, always has access to the latest complete frame data.
                     Single Buffering can eliminate the need for external memory (tearing may occur).&lt;br&gt;
                     Partial Buffering eliminates the need for external memory while still allowing a large portion of internal memory to be used for things besides framebuffer. &lt;br&gt;
         </Description>
        <PossibleValue Comment="Single Buffer" Semaphore="sem_single_buffer_selected" Value="Single" />
        <PossibleValue Comment="Double Buffer" Semaphore="sem_double_buffer_selected" Value="Double" />
        <PossibleValue Comment="Partial Buffer" Semaphore="sem_partial_buffer_selected" Value="Partial" />
    </RefParameter>

    <RefParameter Comment="Buffer Location" Name="tgfx_location" DefaultValue="Allocate" TabName="TouchGFX Generator" Group="Display" Type="list">
        <Description>Memory location of the frame buffer.&lt;br&gt;&lt;br&gt;
                     Selecting "By Allocation" will create an array called framebuf. The placement of the array is decided by the linker.&lt;br&gt;
                     The array has been given the section name TouchGFX_Framebuffer which is can be used in the linker script to determine the location.&lt;br&gt;
                     Using this option together with "Double Buffer" option will place the two framebuffers sequentially in memory.&lt;br&gt;
                     &lt;br&gt;
                     Selecting "By Address" will require a memory address to be specified, this memory region must be addressable by the MCU when&lt;br&gt;
                     the MX_TouchGFX_Process(void) function is called.&lt;br&gt;
                     Using this option together with the "Double Buffer" option allows each frame buffer to be placed at a specific memory address rather than being placed sequentially.&lt;br&gt;
                     It is the user's responsibility to ensure that the addresses used does not overlap in regards to the framebuffer size.
        </Description>
        <Condition Diagnostic="" Expression="!sem_partial_buffer_selected" />
        <PossibleValue Comment="By Allocation" Semaphore="sem_internal_buffer_selected" Value="Allocate" />
        <PossibleValue Comment="By Address" Semaphore="sem_external_buffer_selected" Value="By Address" />
    </RefParameter>
    <RefParameter Comment="Buffer Location" Name="tgfx_location" DefaultValue="NA" TabName="TouchGFX Generator" Group="Display" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="sem_partial_buffer_selected" />
    </RefParameter>
    <RefParameter Comment="Start Address" Name="tgfx_address1" DefaultValue="0x00000000" TabName="TouchGFX Generator" Group="Display" Type="stringrw">
        <Description>Specifies the start address of the frame buffer.</Description>
        <Condition Diagnostic="" Expression="sem_external_buffer_selected" />
    </RefParameter>
    <RefParameter Comment="Start Address" Name="tgfx_address1" DefaultValue="0x00000000" TabName="TouchGFX Generator" Group="Display" Type="stringrw" Visible="false">
        <Condition Diagnostic="" Expression="!sem_external_buffer_selected" />
    </RefParameter>

    <RefParameter Comment="Start Address 2" Name="tgfx_address2" DefaultValue="0x00000000" TabName="TouchGFX Generator" Group="Display" Type="stringrw">
        <Description>Specifies the start address of the second frame buffer, if double buffering is enabled.</Description>
        <Condition Diagnostic="" Expression="sem_external_buffer_selected&amp;sem_double_buffer_selected" />
    </RefParameter>
    <RefParameter Comment="Start Address 2" Name="tgfx_address2" DefaultValue="0x00000000" TabName="TouchGFX Generator" Group="Display" Type="stringrw" Visible="false">
        <Condition Diagnostic="" Expression="!sem_external_buffer_selected | !sem_double_buffer_selected" />
    </RefParameter>

    <RefParameter Comment="" DefaultValue="1" Name="bitsperpixel" Type="integer" Visible="false"><Condition Diagnostic="" Expression="sem_bw_selected"/></RefParameter>
    <RefParameter Comment="" DefaultValue="2" Name="bitsperpixel" Type="integer" Visible="false"><Condition Diagnostic="" Expression="sem_grey2_selected"/></RefParameter>
    <RefParameter Comment="" DefaultValue="4" Name="bitsperpixel" Type="integer" Visible="false"><Condition Diagnostic="" Expression="sem_grey4_selected"/></RefParameter>
    <RefParameter Comment="" DefaultValue="8" Name="bitsperpixel" Type="integer" Visible="false"><Condition Diagnostic="" Expression="sem_agrb2222_selected|sem_argb2222_selected|sem_bgra2222_selected|sem_rgba2222_selected"/></RefParameter>
    <RefParameter Comment="" DefaultValue="16" Name="bitsperpixel" Type="integer" Visible="false"><Condition Diagnostic="" Expression="sem_rgb565_selected"/></RefParameter>
    <RefParameter Comment="" DefaultValue="24" Name="bitsperpixel" Type="integer" Visible="false"><Condition Diagnostic="" Expression="sem_rgb888_selected"/></RefParameter>

    <RefParameter Comment="Number of Blocks" Name="tgfx_number_of_blocks" DefaultValue="3" Min="1" TabName="TouchGFX Generator" Group="Display" Type="integer">
        <Description>Specifies the number of blocks to allocate in memory for frame buffer parts.</Description>
        <Condition Diagnostic="" Expression="sem_partial_buffer_selected" />
    </RefParameter>
    <RefParameter Comment="Number of Blocks" Name="tgfx_number_of_blocks" DefaultValue="3" Min="1" TabName="TouchGFX Generator" Group="Display" Type="integer" Visible="false">
        <Condition Diagnostic="" Expression="!sem_partial_buffer_selected" />
    </RefParameter>

    <RefParameter Comment="Block Size" Name="tgfx_block_size" DefaultValue="=((MAX(tgfx_custom_height,tgfx_custom_width)*bitsperpixel)/8)*3" Min="=((MAX(tgfx_custom_height,tgfx_custom_width)*bitsperpixel)/8)" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="bytes">
        <Description>Specifies the size of each block of the partial frame buffer in bytes.&lt;br&gt;
                     Default block size is calculated using: max(width, height) * bits per pixel * 3&lt;br&gt;
                     Minimum block size is set to: max(width, height) * bits per pixel&lt;br&gt;
                     <!-- &lt;a href="https://www.st.com"&gt;st.com&lt;/a&gt; -->
        </Description>
        <Condition Diagnostic="" Expression="sem_partial_buffer_selected &amp; !sem_ltdc_enabled" />
    </RefParameter>
    <RefParameter Comment="Block Size" Name="tgfx_block_size" DefaultValue="=((MAX(tgfx_ltdc_height,tgfx_ltdc_width)*bitsperpixel)/8)*3" Min="=((MAX(tgfx_ltdc_height,tgfx_ltdc_width)*bitsperpixel)/8)" TabName="TouchGFX Generator" Group="Display" Type="integer" Unit="bytes">
        <Description>Specifies the size of each block of the partial frame buffer in bytes.&lt;br&gt;
                     Default block size is calculated using: max(ltdc width, ltdc height) * bits per pixel * 3&lt;br&gt;
                     Minimum block size is set to: max(ltdc width, ltdc height) * bits per pixel&lt;br&gt;
                     <!-- &lt;a href="https://www.st.com"&gt;st.com&lt;/a&gt; -->
        </Description>
        <Condition Diagnostic="" Expression="sem_partial_buffer_selected &amp; sem_ltdc_enabled" />
    </RefParameter>
    <RefParameter Comment="Block Size" Name="tgfx_block_size" DefaultValue="1024" TabName="TouchGFX Generator" Group="Display" Type="integer" Visible="false">
        <Condition Diagnostic="" Expression="!sem_partial_buffer_selected" />
    </RefParameter>
    <RefParameter Comment="Partial Framebuffer VSync" Name="tgfx_partialfb_transmit_strategy" DefaultValue="Disabled" TabName="TouchGFX Generator" Group="Additional Features" Type="list">
        <Description>Enable Partial Framebuffer VSync support.&lt;br&gt;
        To avoid visual tearing on the display only transfer frame buffer blocks when the LCD Active Update Line has passed the last line of the block in display memory.
        </Description>
        <Condition Diagnostic="" Expression="sem_partial_buffer_selected" />
        <PossibleValue Comment="Enabled" Semaphore="sem_partial_fb_stay_behind_beam_enabled" Value="Enabled" />
        <PossibleValue Comment="Disabled" Semaphore="sem_partial_fb_stay_behind_beam_disabled" Value="Disabled" />
    </RefParameter>
    <RefParameter Comment="Partial Framebuffer VSync" Name="tgfx_partialfb_transmit_strategy" DefaultValue="Disabled" TabName="TouchGFX Generator" Group="Additional Features" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="!sem_partial_buffer_selected" />
        <PossibleValue Comment="Disabled" Semaphore="sem_partial_fb_stay_behind_beam_disabled" Value="Disabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader" Name="tgfx_datareader" DefaultValue="Disabled" TabName="TouchGFX Generator" Group="Additional Features" Type="list">
        <Description>Enable Data Reader support.
        </Description>
        <Condition Diagnostic="" Expression="sem_rgb565_selected" />
        <PossibleValue Comment="Enabled" Semaphore="sem_datareader_enabled" Value="Enabled" Diagnostic="Graphics Acceleration is not supported. Set Graphic Acceleration to None to enable the Data Reader feature." Condition="sem_dma2d_selected | sem_custom_dma_selected" Action="Disable" />
        <PossibleValue Comment="Disabled" Semaphore="sem_datareader_disabled" Value="Disabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader" Name="tgfx_datareader" DefaultValue="Disabled" TabName="TouchGFX Generator" Group="Additional Features" Type="list" Visible="false">
        <Condition Diagnostic="" Expression="!sem_rgb565_selected" />
        <PossibleValue Comment="Disabled" Semaphore="sem_datareader_disabled" Value="Disabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader: Line Buffer size" Name="tgfx_datareader_block_size" DefaultValue="=tgfx_custom_width*4" Max="=tgfx_custom_width*4" Min="0" TabName="TouchGFX Generator" Group="Additional Features" Type="integer" Unit="bytes">
        <Description>
            Creates two buffers used when images or text needs to be blended into the framebuffer. Default value is one screen width*4 bytes to support full size images in ARGB8888 pixel format.
        </Description>
        <Condition Diagnostic="" Expression="sem_datareader_enabled &amp; !sem_ltdc_enabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader: Line Buffer size" Name="tgfx_datareader_block_size" DefaultValue="=tgfx_ltdc_width*4" Max="=tgfx_ltdc_width*4" Min="0" TabName="TouchGFX Generator" Group="Additional Features" Type="integer" Unit="bytes">
      <Description>
        Creates two buffers used when images or text needs to be blended into the framebuffer. Default value is one screen width*4 bytes to support full size images in ARGB8888 pixel format.
        </Description>
        <Condition Diagnostic="" Expression="sem_datareader_enabled &amp; sem_ltdc_enabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader: Line Buffer size" Name="tgfx_datareader_block_size" DefaultValue="1024" TabName="TouchGFX Generator" Group="Additional Features" Type="integer" Visible="false">
        <Condition Diagnostic="" Expression="!sem_datareader_enabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader: Minimum DMA transfer size" Name="tgfx_datareader_dma_transfersize" DefaultValue="40" Min="1" TabName="TouchGFX Generator" Group="Additional Features" Type="integer" Unit="bytes">
        <Description>Set minimum required bytes to start DMA transfer.
        If fewer bytes are requested, DMA will not be used.
        </Description>
        <Condition Diagnostic="" Expression="sem_datareader_enabled" />
    </RefParameter>
    <RefParameter Comment="External Data Reader: Minimum DMA transfer size" Name="tgfx_datareader_dma_transfersize" TabName="TouchGFX Generator" Group="Additional Features" Type="integer" Visible="false">
        <Condition Diagnostic="" Expression="!sem_datareader_enabled" />
    </RefParameter>
    <!--
        Tab End: TouchGFX
    -->

    <!--
        Semaphores Start
    -->

    <!-- BEGIN: LTDC -->

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="MW_LTDC_MW"/>
        <PossibleValue Comment="Enabled" Semaphore="sem_ltdc_enabled" Value="true"/>
    </RefParameter>

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="(LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_RGB888 | LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_RGB565 | LTDC:PixelFormat_L0=LTDC_PIXEL_FORMAT_L8)"/>
        <PossibleValue Comment="OK" Semaphore="sem_ltdc_format_ok" Value="true"/>
    </RefParameter>

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="(LTDC:Layers=1)"/>
        <PossibleValue Comment="OK" Semaphore="sem_ltdc_layers_ok" Value="true"/>
    </RefParameter>

    <!-- Until we can support ARGB8888 / 32bpp through the designer, it does not make sense to "allow" PAxCA since only CA can be used -->
    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="(LTDC:BlendingFactor1_L0=LTDC_BLENDING_FACTOR1_CA&amp;LTDC:BlendingFactor2_L0=LTDC_BLENDING_FACTOR2_CA)"/>
        <PossibleValue Comment="OK" Semaphore="sem_ltdc_blendingfactor_ok" Value="true"/>
    </RefParameter>

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="( ((LTDC:WindowX1_L0-LTDC:WindowX0_L0)>0) &amp; ((LTDC:WindowY1_L0-LTDC:WindowY0_L0)>0))"/>
        <PossibleValue Comment="OK" Semaphore="sem_ltdc_window_ok" Value="true"/>
    </RefParameter>

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="MW_GFXMMU_MW | ( ((LTDC:WindowX1_L0-LTDC:WindowX0_L0)=LTDC:ImageWidth_L0) &amp; ((LTDC:WindowY1_L0-LTDC:WindowY0_L0)=LTDC:ImageHeight_L0))"/>
        <PossibleValue Comment="OK" Semaphore="sem_ltdc_image_ok" Value="true"/>
    </RefParameter>

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="(LTDC:Alpha_L0>0)"/>
        <PossibleValue Comment="OK" Semaphore="sem_ltdc_alpha_constant_ok" Value="true"/>
    </RefParameter>
    <!-- END: LTDC -->

    <RefParameter Comment="" DefaultValue="" Name="" Type="boolean">
        <Condition Diagnostic="" Expression="(Lcd1 | Lcd2 | Lcd3 | Lcd4)&amp;(_32_bit_data1 | _32_bit_data2 | _32_bit_data3 | _32_bit_data4 | _16_bit_data1 | _16_bit_data2 | _16_bit_data3 | _16_bit_data4)"/>
        <PossibleValue Comment="Enabled" Semaphore="sem_fmc_enabled" Value="true"/>
    </RefParameter>

    <RefParameter Comment="Real-Time Operating System" DefaultValue="NoOS" Name="tgfx_oswrapper" TabName="TouchGFX Generator" Group="Driver" Type="list" Visible="true">
      <Description>Specifies the Real-Time Operating System to use.&lt;br&gt;
                    &lt;ul&gt;
                    &lt;li&gt;No OS: implements a simple synchronization between application and TouchGFX framework.&lt;/li&gt;
                    &lt;li&gt;CMSIS V1: uses CMSIS V1 interface to synchronization with TouchGFX framework, please provide CMSIS V1 implementation layer or enable corresponding FreeRTOS CMSIS V1 Middleware.&lt;/li&gt;
                    &lt;li&gt;CMSIS V2: uses CMSIS V2 interface to synchronization with TouchGFX framework, please provide CMSIS V2 implementation layer or enable corresponding FreeRTOS CMSIS V2 Middleware.&lt;/li&gt;
                    &lt;li&gt;Custom: provides an empty oswrapper interface which needs to be implemented.&lt;/li&gt;
                    &lt;/ul&gt;
                    &lt;br&gt;
                    Further information is available at:&lt;br&gt;
                    &lt;a href="https://support.touchgfx.com/docs/development/touchgfx-hal-development/touchgfx-generator#real-time-operating-system"&gt;support.touchgfx.com/docs/development/touchgfx-hal-development/touchgfx-generator#real-time-operating-system&lt;/a&gt;
        </Description>
        <PossibleValue Action="Disable" Comment="No OS" Semaphore="oswrapper_noos" Value="NoOS" Condition="S_CMSIS_RTOS_V1 | S_CMSIS_RTOS_V2" Diagnostic="Only available if FreeRTOS CMSIS is disabled."/>
        <PossibleValue Comment="CMSIS_RTOS_V1" Semaphore="oswrapper_cmsis" Condition="S_CMSIS_RTOS_V2" Value="CMSIS V1" />
        <PossibleValue Comment="CMSIS_RTOS_V2" Semaphore="oswrapper_cmsis" Condition="S_CMSIS_RTOS_V1" Value="CMSIS V2" />
        <PossibleValue Comment="Custom" Semaphore="oswrapper_custom" Condition="S_CMSIS_RTOS_V1 | S_CMSIS_RTOS_V2" Value="Custom"/>
    </RefParameter>

    <RefParameter Comment="MCU Family" DefaultValue="STM32F4" Group="Dependencies" Name="tgfx_mcu_family" TabName="TouchGFX Generator" Type="list" Visible="false">
        <PossibleValue Action="Disable" Comment="STM32G0" Condition="!STM32G0" Semaphore="SEM_STM32G0" Value="m0+"/>
        <PossibleValue Action="Disable" Comment="STM32L0" Condition="!STM32L0" Semaphore="SEM_STM32L0" Value="m0+"/>
        <PossibleValue Action="Disable" Comment="STM32F3" Condition="!STM32F3" Semaphore="SEM_STM32F3" Value="m4"/>
        <PossibleValue Action="Disable" Comment="STM32F4" Condition="!STM32F4" Semaphore="SEM_STM32F4" Value="m4"/>
        <PossibleValue Action="Disable" Comment="STM32L4" Condition="!STM32L4" Semaphore="SEM_STM32L4" Value="m4"/>
        <PossibleValue Action="Disable" Comment="STM32WB" Condition="!STM32WB" Semaphore="SEM_STM32WB" Value="m4"/>
        <PossibleValue Action="Disable" Comment="STM32G4" Condition="!STM32G4" Semaphore="SEM_STM32G4" Value="m4"/>
        <PossibleValue Action="Disable" Comment="STM32H7" Condition="!STM32H7" Semaphore="SEM_STM32H7" Value="m7"/>
        <PossibleValue Action="Disable" Comment="STM32F7" Condition="!STM32F7" Semaphore="SEM_STM32F7" Value="m7"/>
        <PossibleValue Action="Disable" Comment="STM32L5" Condition="!STM32L5" Semaphore="SEM_STM32L5" Value="m33"/>
    </RefParameter>

    <!--
        Semaphores End
    -->

    <!--
        ModeLogicOperators
     -->
    <ModeLogicOperator Name="OR">
        <Mode Name="GraphicsJjApplication">
            <ModeLogicOperator Name="OR">
                <Mode Name="GraphicsJjApplication">
                    <SignalLogicalOp Name="AND">
                        <Signal Name="VS_GraphicsJjApplication_4.15.0"/>
                    </SignalLogicalOp>
                    <Semaphore>USE_CPP_LANGUAGE</Semaphore>
                </Mode>
            </ModeLogicOperator>
        </Mode>
    </ModeLogicOperator>

    <RefSignal Name="VS_GraphicsJjApplication_4.15.0" Virtual="true"/>
</IP>
